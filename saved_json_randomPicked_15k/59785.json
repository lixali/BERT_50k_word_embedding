{
 "id": "59785",
 "text": "The IBM System/370 (S/370) is a model range of IBM mainframe computers announced on June 30, 1970 as the successors to the System/360 family. The series mostly maintains backward compatibility with the S/360, allowing an easy migration path for customers; this, plus improved performance, were the dominant themes of the product announcement. In September 1990, the System/370 line was replaced with the System/390. ==Evolution== The original System/370 line was announced on June 30, 1970 with first customer shipment of the Models 155 and 165 planned for February 1971 and April 1971 respectively. The 155 first shipped in January 1971. System/370 underwent several architectural improvements during its roughly 20-year lifetime. The following features mentioned in Principles of Operation are either optional on S/360 but standard on S/370, introduced with S/370 or added to S/370 after announcement. *Branch and Save *Channel Indirect Data Addressing *Channel-Set Switching *Clear I/O *Command Retry *Commercial Instruction Set *Conditional Swapping *CPU Timer and Clock Comparator *Dual-Address Space (DAS) *Extended-Precision Floating Point *Extended Real Addressing *External Signals *Fast Release *Floating Point *Halt Device *I/O Extended Logout *Limited Channel Logout *Move Inverse *Multiprocessing *PSW-Key Handling *Recovery Extensions *Segment Protection *Service Signal *Start-I/O-Fast Queuing *Storage-Key-Instruction Extensions *Storage-Key 4K-Byte Block *Suspend and Resume *Test Block *Translation *Vector *31-Bit IDAWs ===Initial models=== The first System/370 machines, the Model 155 and the Model 165, incorporated only a small number of changes to the System/360 architecture. These changes included: * 13 new instructions, among which were :* MOVE LONG (MVCL); :* COMPARE LOGICAL LONG (CLCL); ::: thereby permitting operations on up to 2^24-1 bytes (16 MB), vs. the 256-byte limits on the 360's MVC and CLC; :* SHIFT AND ROUND DECIMAL (SRP), which multiplied or divided a packed decimal value by a power of 10, rounding the result when dividing; * optional 128-bit (hexadecimal) floating point arithmetic, introduced in the System/360 Model 85 * a new higher-resolution time-of-day clock * support for the block multiplexer channel introduced in the System/360 Model 85. * All of the emulator features were designed to run under the control of the standard operating systems. IBM documented the S/370 emulator programs as integrated emulators. These models had core memory and did not include support for virtual storage. ===Logic technology=== All models of the System/370 used IBM's form of monolithic integrated circuits called MST (Monolithic System Technology) making them third generation computers. MST provided System/370 with four to eight times the circuit density and over ten times the reliability when compared to the previous second generation SLT technology of the System/360. ===Monolithic memory=== On September 23, 1970, IBM announced the Model 145, a third model of the System/370, which was the first model to feature semiconductor main memory made from monolithic integrated circuits and was scheduled for delivery in the late summer of 1971. All subsequent S/370 models used such memory. ===Virtual storage=== In 1972, a very significant change was made when support for virtual storage was introduced with IBM's \"System/370 Advanced Function\" announcement. IBM had initially (and controversially) chosen to exclude virtual storage from the S/370 line. The August 2, 1972 announcement included: * address relocation hardware on all S/370s except the original models 155 and 165 * the new S/370 models 158 and 168, with address relocation hardware * four new operating systems: DOS/VS (DOS with virtual storage), OS/VS1 (OS/360 MFT with virtual storage), OS/VS2 (OS/360 MVT with virtual storage) Release 1, termed SVS (Single Virtual Storage), and Release 2, termed MVS (Multiple Virtual Storage) and planned to be available 20 months later (at the end of March 1974), and VM/370 – the re-implemented CP/CMS thumb|300px|right|System/370-145 3D Rendering thumb|300px|right|3D Rendering of computer center with IBM System/370-145 and IBM 2401 tape drives thumb|300px|right|System/370-145 3D Rendering thumb|300px|right|System/370-145 system console. Virtual storage had in fact been delivered on S/370 hardware before this announcement: * In June 1971, on the S/370-145 (one of which had to be \"smuggled\" into Cambridge Scientific Center to prevent anybody noticing the arrival of an S/370 at that hotbed of virtual memory development - since this would have signaled that the S/370 was about to receive address relocation technology). (Varian 1997:p29) The S/370-145 had an associative memory used by the microcode for the DOS compatibility feature from its first shipments in June 1971; the same hardware was used by the microcode for DAT. Although IBM famously chose to exclude virtual storage from the S/370 announcement, that decision was being reconsidered during the completion of the 145 engineering, partly because of virtual memory experience at CSC and elsewhere. The 145 microcode architecture simplified the addition of virtual storage, allowing this capability to be present in early 145s without the extensive hardware modifications needed in other models. However, IBM did not document the 145's virtual storage capability, nor annotate the relevant bits in the control registers and PSW that were displayed on the operator control panel when selected using the roller switches. The Reference and Change bits of the Storage-protection Keys, however, were labeled on the rollers, a dead giveaway to anyone who had worked with the earlier 360/67. Existing S/370-145 customers were happy to learn that they did not have to purchase a hardware upgrade in order to run DOS/VS or OS/VS1 (or OS/VS2 Release 1 - which was possible, but not common because of the limited amount of main storage available on the S/370-145). Shortly after the August 2, 1972 announcement, DAT box (address relocation hardware) upgrades for the S/370-155 and S/370-165 were quietly announced, but were available only for purchase by customers who already owned a Model 155 or 165.\"IBM's Virtual Memory 370s,\" Datamation, September 1972, p.58-61 After installation, these models were known as the S/370-155-II and S/370-165-II. IBM wanted customers to upgrade their 155 and 165 systems to the widely sold S/370-158 and -168. - tables include model characteristics (Table 1) and announcement/shipment dates (Table 2). The S/370-155-II and -165-II are listed under the former but not the latter, because the upgraded systems were not formally announced as separate models. The \"System/370 Advanced Function\" announcement, including the -158 and -168, was the main public event. These upgrades were surprisingly expensive ($200,000 and $400,000, respectively) and had long ship date lead times after being ordered by a customer; consequently, they were never popular with customers, the majority of whom leased their systems via a third-party leasing company. This led to the original S/370-155 and S/370-165 models being described as \"boat anchors\". The upgrade, required to run OS/VS1 or OS/VS2, was not cost effective for most customers by the time IBM could actually deliver and install it, so many customers were stuck with these machines running MVT until their lease ended. It was not unusual for this to be another four, five or even six years for the more unfortunate ones, and turned out to be a significant factor\"155, 165 Owners Angry with IBM,\" Datamation, August 1973, p.76-86 in the slow adoption of OS/VS2 MVS, not only by customers in general, but for many internal IBM sites as well. ===Subsequent enhancements=== Later architectural changes primarily involved expansions in memory (central storage) - both physical memory and virtual address space - to enable larger workloads and meet client demands for more storage. This was the inevitable trend as Moore's Law eroded the unit cost of memory. As with all IBM mainframe development, preserving backward compatibility was paramount. * Operating system specific assist, Extended Control Program Support (ECPS). extended facility and extension features for OS/VS1, MVS and VM. Exploiting levels of these operating systems, e.g., MVS/System Extensions (MVS/SE), reduce path length for some frequent functions. * The Dual Address Space (DAS) facility allows a privileged program to move data between two address spaces without the overhead of allocating a buffer in common storage, moving the data to the buffer, scheduling an SRB in the target address space, moving the data to their final destination and freeing the buffer. IBM introduced DAS in 1981 for the 3033, but later made it available for some 43xx, 3031 and 3032 processors. MVS/System Product (MVS/SP) Version 1 exploited DAS if it was available. * In October 1981, the 3033 and 3081 processors added \"extended real addressing\", which allowed 26-bit addressing for physical storage (but still imposed a 24-bit limit for any individual address space). This capability appeared later on other systems, such as the 4381 and 3090. * The System/370 Extended Architecture (S/370-XA), first available in early 1983 on the 3081 and 3083 processors, provided a number of major enhancements, including: expansion of the address space from 24-bits to 31-bits; facilitating movement of data between two address spaces; and a complete redesign of the I/O architecture. The cross-memory services capability which facilitated movement of data between address spaces was actually available just prior to S/370-XA architecture on the 3031, 3032 and 3033 processors. * In February 1988, IBM announced the Enterprise Systems Architecture/370 (ESA/370) for enhanced (E) 3090 and 4381 models. It added sixteen 32-bit access registers, more addressing modes, and various facilities for working with multiple address spaces simultaneously. * On September 5, 1990, IBM announced the Enterprise Systems Architecture/390 (ESA/390), upward compatible with ESA/370. ==Expanding the address space== As described above, the S/370 product line underwent a major architectural change: expansion of its address space from 24 to 31 bits. The evolution of S/370 addressing was always complicated by the basic S/360 instruction set design, and its large installed code base, which relied on a 24-bit logical address. (In particular, a heavily used machine instruction, \"Load Address\" (LA), explicitly cleared the top eight bits of the address being placed in a register. This created enormous migration problems for existing software.) The strategy chosen was to implement expanded addressing in three stages: # first at the physical level (to enable more memory hardware per system) # then at the operating system level (to let system software access multiple address spaces and utilize larger address spaces) # finally at the application level (to let new applications access larger address spaces) Since the core S/360 instruction set remained geared to a 24-bit universe, this third step would require a real break from the status quo; existing assembly language applications would of course not benefit, and new compilers would be needed before non-assembler applications could be migrated. Most shops thus continued to run their 24-bit applications in a higher-performance 31-bit world. This evolutionary implementation (repeated in z/Architecture) had the characteristic of solving the most urgent problems first: relief for real memory addressing being needed sooner than virtual memory addressing. ===31 versus 32 bits=== IBM's choice of 31-bit (versus 32-bit) addressing for 370-XA involved various factors. The System/360 Model 67 had included a full 32-bit addressing mode, but this feature was not carried forward to the System/370 series, which began with only 24-bit addressing. When IBM later expanded the S/370 address space in S/370-XA, several reasons are cited for the choice of 31 bits: # The desire to retain the high-order bit as a \"control or escape bit.\" - a subsection titled \"31-bit addressing\" begins on page 201. In particular, the standard subroutine calling convention marked the final parameter word by setting its high bit. # Interaction between 32-bit addresses and two instructions (BXH and BXLE) that treated their arguments as signed numbers (and which was said to be the reason TSS used 31-bit addressing on the Model 67). (Varian 1997:p26, note 85) # Input from key initial Model 67 sites, which had debated the alternatives during the initial system design period, and had recommended 31 bits (instead of the 32-bit design that was ultimately chosen at the time). (Varian 1997:pp8–9, note 21, includes other comments about the \"Inner Six\" Model 67 design disclosees) ==Series and models== ===Models sorted by date introduced (table)=== The following table summarizes the major S/370 series and models. The second column lists the principal architecture associated with each series. Many models implemented more than one architecture; thus, 308x processors initially shipped as S/370 architecture, but later offered XA; and many processors, such as the 4381, had microcode that allowed customer selection between S/370 or XA (later, ESA) operation. Note also the confusing term \"System/370-compatible\", which appeared in IBM source documents to describe certain products. Outside IBM, this term would more often describe systems from Amdahl Corporation, Hitachi Ltd., and others, that could run the same S/370 software. This choice of terminology by IBM may have been a deliberate attempt to ignore the existence of those plug compatible manufacturers (PCMs), because they competed aggressively against IBM hardware dominance. {| class=\"wikitable\" ! First year of series !! Architecture !! Market level !! Series !! Models |- | 1970 || System/370 (no DAT) || high-end || rowspan=\"5\" | System/370-xxx || -155, -165, -195 |- | 1970 || System/370 (DAT) || mid-range || -145 and -135 |- | rowspan=\"3\" | 1972 || rowspan=\"3\" | System/370 || high-end || -158 and -168 |- | entry || -115 and -125 |- | mid- range || -138 and -148 |- | 1977 || rowspan=\"3\" | System/370-compatible with surprising term 'System/370-compatible' for the 3xxx and 4xxx series || high- end || 303x || 3031, 3032, 3033 |- | 1979 || entry/mid || 43xx || 4331, 4341, 4361 |- | 1980 || rowspan=\"2\" | high-end || rowspan=\"2\" | 308x || rowspan=\"2\" | 3081, 3083, 3084 |- | 1981 || rowspan=\"3\" | System/370-XA |- | 1983 || mid- range || 4381 || 4381 |- | 1986 || high-end || 3090 || -120 to -600 |- | 1986 || System/370-compatible to explain why the 9370 is categorized as a System/370 compatible system || entry || 937x || 9370, ... |- | 1988 || rowspan=\"2\" | ESA/370 || high-end || ES/3090 || ES/3090 |- | 1988 || mid-range || ES/4381 || -90, -91, -92 |} ===Models grouped by Model number (detailed)=== IBM used the name System/370 to announce the following eleven (3 digit) offerings: ====System/370 Model 115==== The IBM System/370 Model 115 was announced March 13, 1973 as \"an ideal System/370 entry system for users of IBM's System/3, 1130 computing system and System/360 Models 20, 22 and 25.\" It was delivered with \"a minimum of two (of IBM's newly announced) directly- attached IBM 3340 disk drives.\" Up to four 3340s could be attached. The CPU could be configured with 65,536 (64K) or 98,304 (96K) bytes of main memory. An optional 360/20 emulator was available. The 115 was withdrawn on March 9, 1981. ====System/370 Model 125==== The IBM System/370 Model 125 was announced Oct 4, 1972. Two, three or four directly attached IBM 3333 disk storage units provided \"up to 400 million bytes online.\" Main memory was either 98,304 (96K) or 131,072 (128K) bytes. The 125 was withdrawn on March 9, 1981. ====System/370 Model 135==== The IBM System/370 Model 135 was announced Mar 8, 1971. Options for the 370/135 included a choice of four main memory sizes; IBM 1400 series (1401, 1440 and 1460) emulation was also offered. A \"reading device located in the Model 135 console\" allowed updates and adding features to the Model 135's microcode. The 135 was withdrawn on October 16, 1979. ====System/370 Model 138==== The IBM System/370 Model 138 which was announced Jun 30, 1976 was offered with either 524,288 (512K) or 1,048,576 (1 MB) of memory. The latter was \"double the maximum capacity of the Model 135,\" which \"can be upgraded to the new computer's internal performance levels at customer locations.\" The 138 was withdrawn on November 1, 1983. ====System/370 Model 145==== The IBM System/370 Model 145 was announced Sep 23, 1970, three months after the 155 and 165 models. It first shipped in June 1971. The first System/370 to use monolithic main memory, the Model 145 was offered in six memory sizes. A portion of the main memory, the \"Reloadable Control Storage\" (RCS) was loaded from a prewritten disk cartridge containing microcode to implement, for example, all needed instructions, I/O channels, and optional instructions to enable the system to emulate earlier IBM machines. The 145 was withdrawn on October 16, 1979. ====System/370 Model 148==== The IBM System/370 Model 148 had the same announcement and withdrawal dates as the Model 138. As with the option to field-upgrade a 135, a 370/145 could be field-upgraded \"at customer locations\" to 148-level performance. The upgraded 135 and 145 systems were \"designated the Models 135-3 and 145-3.\" ====System/370 Model 155==== The IBM System/370 Model 155 and the Model 165 were announced Jun 30, 1970, the first of the 370s introduced. Neither had a DAT box; they were limited to running the same non-virtual-memory operating systems available for the System/360. The 155 first shipped in January 1971. The OS/DOS (DOS/360 programs under OS/360), 1401/1440/1460 and 1410/7010 and 7070/7074 compatibility features were included, and the supporting integrated emulator programs could operate concurrently with standard System/370 workloads. In August 1972 IBM announced, as a field upgrade only, the IBM System/370 Model 155 II, which added a DAT box. Both the 155 and the 165 were withdrawn on December 23, 1977. ====System/370 Model 158==== The IBM System/370 Model 158 and the 370/168 were announced Aug 2, 1972. It included dynamic address translation (DAT) hardware, a prerequisite for the new virtual memory operating systems (DOS/VS, OS/VS1, OS/VS2). A tightly coupled multiprocessor (MP) model was available, as was the ability to loosely couple this system to another 360 or 370 via an optional channel-to-channel adapter. The 158 and 168 were withdrawn on September 15, 1980. ====System/370 Model 165==== The IBM System/370 Model 165 was described by IBM as \"more powerful\" compared to the \"medium-scale\" 370/155. It first shipped in April 1971. Compatibility features included emulation for 7070/7074, 7080, and 709/7090/7094/7094 II. Some have described the 360/85's use of microcoded vs hardwired as a bridge to the 370/165. In August 1972 IBM announced, as a field upgrade only, the IBM System/370 Model 165 II which added a DAT box. The 165 was withdrawn on December 23, 1977. ====System/370 Model 168==== The IBM System/370 Model 168 included \"up to eight megabytes\" of main memory, double the maximum of 4 megabytes on the 370/158. It included dynamic address translation (DAT) hardware, a pre-requisite for the new virtual memory operating systems. Although the 168 served as IBM's \"flagship\" system, a 1975 newbrief said that IBM boosted the power of the 370/168 again \"in the wake of the Amdahl challenge... only 10 months after it introduced the improved 168-3 processor.\" The 370/168 was not withdrawn until September 1980. ====System/370 Model 195==== The IBM System/370 Model 195 was announced Jun 30, 1970 and, at that time, it was \"IBM's most powerful computing system.\" Its introduction came about 14 months after the announcement of the 360/195. Both 195 machines were withdrawn Feb. 9, 1977. ====System/370-compatible==== Beginning in 1977, IBM began to introduce new systems, using the description \"A compatible member of the System/370 family.\" =====IBM 303X===== The first of the initial high end machines, IBM's 3033, was announced March 25, 1977 and was delivered the following March, at which time a multiprocessor version of the 3033 was announced. IBM described it as \"The Big One.\" IBM noted about the 3033, looking back, that \"When it was rolled out on March 25, 1977, the 3033 eclipsed the internal operating speed of the company's previous flagship the System/370 Model 168-3 ...\" The IBM 3031 and IBM 3032 were announced Oct. 7, 1977 and withdrawn Feb. 8, 1985. =====IBM 308X===== Three systems comprised the next series of high end machines, IBM's 308X systems: * The 3081 (announced Nov 12, 1980) had 2 CPUs * The 3083 (announced Mar 31, 1982) had 1 CPU * The 3084 (announced Sep 3, 1982) had 4 CPUs Despite the numbering, the least powerful was the 3083, which could be field-upgraded to a 3081; the 3084 was the top of the line. These models introduced IBM's Extended Architecture's 31-bit address capability and a set of backward compatible MVS/Extended Architecture (MVS/XA) software replacing previous products and part of OS/VS2 R3.8: {| class=\"wikitable\" |- ! Number ! style=\"align:left;\" | Name |- | 565-279 | Basic Telecommunications Access Method/System Product (BTAM/SP) |- | 5668-978 | Graphics Access Method/System Product (GAM/SP) |- | 5740-XC6 | MVS/System Product - JES2 Version 2 |- | 5685-291 | MVS/System Product - JES3 Version 2 |- | 5665-293 | TSO Extensions (TSO/E) for MVS/XA |- | 5665-284 | MVS/Extended Architecture Data Facility Product (DFP) Version 1 |} All three 308x systems were withdrawn on August 4, 1987. =====IBM 3090===== The next series of high-end machines, the IBM 3090, began with models 200 and 400. They were announced Feb. 12, 1985, and were configured with two or four CPUs respectively. IBM subsequently announced models 120, 150, 180, 300, 500 and 600 with lower, intermediate and higher capacities; the first digit of the model number gives the number of central processors. Starting with the E models, and continuing with the J and S models, IBM offered Enterprise Systems Architecture/370 (ESA/370), Processor Resource/System Manager (PR/SM) and a set of backward compatible MVS/Enterprise System Architecture (MVS/ESA) software replacing previous products: {| class=\"wikitable\" |- ! Number ! syle=\"text-align:left\" | Name |- | 5685-279 | BTAM/SP |- | 5668-978 | GAM/SP 2.0 |- | 5685-001 | MVS/System Product-JES2 Version 3 |- | 5685-002 | MVS/System Product-JES3 Version 3 |- | 5665-293 | TSO Extensions (TSO/E) for MVS/XA |- | 5685-285 | TSO/E Version 1 Release 4 |- | 5685-025 | TSO/E Version 2 |- | 5665-284 | MVS/XA Data Facility Product (DFP) Version 1 |- | 5665-XA2 | MVS/XA Data Facility Product (DFP) Version 2.3 |- | 5665-XA3 | MVS/DFP Version 3.1 |} IBM's offering of an optional vector facility (VF) extension for the 3090 came at a time when Vector processing/Array processing suggested names like Cray and Control Data Corporation (CDC).the hyperlink on the words \"Vector processing\" point to an article that has only 2 mentions of IBM, one of which begins \"In 2000, IBM, Toshiba and Sony collaborated.\"The \"first to market\" advantage can be summarized as \"In 1972, computer designer Seymour Cray left CDC and formed a new company\" as noted in Getting Up to Speed: The Future of Supercomputing, 2005, , by National Research Council, Division on Engineering and Physical Sciences, Computer Science and Telecommunications Board The 200 and 400 were withdrawn on May 5, 1989. =====IBM 4300===== The first pair of IBM 4300 processors were Mid/Low end systems announced Jan 30, 1979 as \"compact (and).. compatible with System/370.\" The 4331 was subsequently withdrawn on November 18, 1981, and the 4341 on February 11, 1986. Other models were the 4321,https://www.ibm.com/ibm/history/exhibits/dpd50/dpd50_chronology5.html 4361 and 4381. The 4361 has \"Programmable Power-Off -- enables the user to turn off the processor under program control\"; \"Unit power off\" is (also) part of the 4381 feature list. IBM offered many Model Groups and models of the 4300 family, ranging from the entry level 4331 to the 4381, described as \"one of the most powerful and versatile intermediate system processors ever produced by IBM.\" The 4381 Model Group 3 was dual-CPU. =====IBM 9370===== This low-end system, announced October 7, 1986, was \"designed to satisfy the computing requirements of IBM customers who value System/370 affinity\" and \"small enough and quiet enough to operate in an office environment.\" IBM also noted its sensitivity to \"entry software prices, substantial reductions in support and training requirements, and modest power consumption and maintenance costs.\" Furthermore, it stated its awareness of the needs of small-to-medium size businesses to be able to respond, as \"computing requirements grow,\" adding that \"the IBM 9370 system can be easily expanded by adding additional features and racks to accommodate...\" This came at a time when Digital Equipment Corporation (DEC) and its VAX systems were strong competitors in both hardware and software; the media of the day carried IBM's alleged \"VAX Killer\" phrase, albeit often skeptically. ===Clones=== In the 360 era, a number of manufacturers had already standardized upon the IBM/360 instruction set and, to a degree, 360 architecture. Notable computer makers included Univac with the UNIVAC 9000 series, RCA with the RCA Spectra 70 series, English Electric with the English Electric System 4, and the Soviet ES EVM. These computers were not perfectly compatible, nor (except for the Russian efforts)Re the 370 (followup to 360/40 clone): were they intended to be. That changed in the 1970s with the introduction of the IBM/370 and Gene Amdahl's launch of his own company. About the same time, Japanese giants began eyeing the lucrative mainframe market both at home and abroad. One Japanese consortium focused upon IBM and two others from the BUNCH (Burroughs/Univac/NCR/Control Data/Honeywell) group of IBM's competitors. The latter efforts were abandoned and eventually all Japanese efforts focused on the IBM mainframe lines. Some of the era's clones included: ==Architecture details== IBM documentation numbers the bits from high order to low order; the most significant (leftmost) bit is designated as bit number 0. {| class=\"infobox\" style=\"font-size:88%\" |- | align=\"center\" | IBM S/370 registers |- | style=\"border-style: none;\" | {| class=\"wikitable\" style=\"font-size:75%\" |+ General Registers 0-15 |- | colspan=34 style=\"border-style: none;\" | |- | style=\"width:.5%; text-align:left; border-style: none none none none;\" | | colspan=32 | Two's complement value |- | style=\"width:.5%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | 0 | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:right; border-style: none none none none;\" | 31 | style=\"width:.5%; text-align:left; border-style: none none none none;\" | |} |- | style=\"border-style: none;\" | {| class=\"wikitable\" style=\"font-size:75%\" |+ Control Registers 0-15 |- | colspan=34 style=\"border-style: none;\" | |- | style=\"width:.5%; text-align:left; border-style: none none none none;\" | | colspan=32 | See Principles of Operation |- | style=\"width:.5%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | 0 | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:right; border-style: none none none none;\" | 31 | style=\"width:.5%; text-align:left; border-style: none none none none;\" | |} |- | style=\"border- style: none;\" | {| class=\"wikitable\" style=\"font-size:75%\" |+ Floating Point Registers 0-6 |- | colspan=34 style=\"border-style: none;\" | |- | style=\"width:.5%; text-align:left; border-style: none none none none;\" | | S | colspan=7 | Biased exponent | colspan=24 | Mantissa |- | style=\"width:.5%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | 0 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 1 | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:right; border-style: none none none none;\" | 7 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 8 | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:right; border-style: none none none none;\" | 31 | style=\"width:.5%; text-align:left; border-style: none none none none;\" | |- | colspan=34 style=\"border-style: none;\" | |- | style=\"width:.5%; text-align:left; border-style: none none none none;\" | | colspan=32 | Mantissa (continued) | style=\"width:.5%; text-align:left; border-style: none none none none;\" | |- | style=\"width:.5%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | 32 | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:right; border-style: none none none none;\" | 63 | style=\"width:.5%; text-align:left; border-style: none none none none;\" | |} |- | style=\"border-style: none;\" | {| class=\"wikitable\" style=\"font-size:75%\" |+ S/370 Basic Control mode PSW |- | colspan=34 style=\"border-style: none;\" | |- | style=\"width:.5%; text-align:left; border-style: none none none none;\" | | colspan=6 |Chan. Mask | I O | E X | colspan=4 | Key | 0 | M | W | P | colspan=16 | Interruption Code | style=\"width:.5%; text-align:left; border-style: none none none none;\" | |- | style=\"width:.5%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | 0 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 1 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 2 | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:right; border-style: none none none none;\" | 4 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 5 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 6 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 7 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 8 | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:right; border-style: none none none none;\" | 11 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 12 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 13 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 14 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 15 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 16 | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:right; border-style: none none none none;\" | 31 | style=\"width:.5%; text-align:left; border-style: none none none none;\" | |- | style=\"border-style:none;\" | |- | style=\"width:.5%; text-align:left; border-style: none none none none;\" | | colspan=2 | ILC | colspan=2 | CC | colspan=4 | Program Mask | colspan=24 | Instruction Address |- | style=\"width:.5%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | 32 | style=\"width:1%; text- align:right; border-style: none none none none;\" | 33 | style=\"width:1%; text- align:left; border-style: none none none none;\" | 34 | style=\"width:1%; text- align:right; border-style: none none none none;\" | 35 | style=\"width:1%; text- align:left; border-style: none none none none;\" | 36 | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:right; border-style: none none none none;\" | 39 | style=\"width:1%; text- align:left; border-style: none none none none;\" | 40 | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:left; border-style: none none none none;\" | | style=\"width:1%; text- align:right; border-style: none none none none;' | 63 | style=\"width:.5%; text-align:left; border-style: none none none none;\" | |- | colspan=\"34\" style=\"border-style: none;\"| {| class=\"wikitable mw-collapsible autocollapse\" |+ |- ! style=\"width:10%; text-align:left;\"| Bits ! style=\"width:10%; text- align:left;\"| Field ! style=\"width:80%; text-align:left;\"| Meaning |- | 0-5 | | Channel Masks for channels 0-5 |- | 6 | IO | I/O Mask for channels > 5 |- | 7 | EX | External Mask |- | 8-11 | Key | PSW key |- | 12 | E=0 | Basic Control mode |- | 13 | M | Machine-check mask |- | 14 | W | Wait state |- | 15 | P | Problem state |- | 16-31 | IC | Interruption Code |- | 32-33 | ILC | Instruction-Length Code |- | 34-35 | CC | Condition Code |- | 36-39 | PM | {| class=\"wikitable mw-collapsible autocollapse\" |+ style=\"text-align: left;\" | ! Bit ! Meaning |- | 36 | Fixed-point overflow |- | 37 | Decimal overflow |- | 38 | Exponent underflow |- | 39 | Significance |} |- | 40-63 | IA | Instruction Address |} |} |- | style=\"border-style: none;\" | {| class=\"wikitable\" style=\"font-size:75%\" |+ S/370 Extended Control mode PSW |- | colspan=34 style=\"border-style: none;\" | |- | style=\"width:.5%; text-align:left; border-style: none none none none;\" | | 0 | R | style=\"border-style: solid none solid solid\" | 0 | style=\"border- style: solid none solid\" | 0 | style=\"border-style: solid solid solid none\" | 0 | T | I O | E X | colspan=4 | Key | 1 | M | W | P | S | 0 | colspan=2 | CC | colspan=4 | Program Mask | style=\"border-style: solid none solid solid;\" | 0 | style=\"border- style: solid none solid;\" | 0 | style=\"border-style: solid none solid;\" | 0 | style=\"border-style: solid none solid;\" | 0 | style=\"border-style: solid none solid;\" | 0 | style=\"border-style: solid none solid;\" | 0 | style=\"border- style: solid none solid;\" | 0 | style=\"border-style: solid solid solid none;\" | 0 | style=\"width:.5%; text-align:left; border-style: none none none none;\" | |- | style=\"width:.5%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | 0 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 1 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 2 | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:right; border-style: none none none none;\" | 4 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 5 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 6 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 7 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 8 | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:right; border-style: none none none none;\" | 11 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 12 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 13 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 14 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 15 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 16 | style=\"width:1%; text-align:right; border-style: none none none none;\" | 17 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 18 | style=\"width:1%; text-align:right; border-style: none none none none;\" | 19 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 20 | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:right; border-style: none none none none;\" | 23 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 24 | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:right; border-style: none none none none;\" | 31 | style=\"width:.5%; text-align:left; border-style: none none none none;\" | |- | style=\"border-style:none;\" | |- | style=\"width:.5%; text-align:left; border-style: none none none none;\" | | style=\"border-style: solid none solid solid;\" | 0 | style=\"border-style: solid none solid;\" | 0 | style=\"border-style: solid none solid;\" | 0 | style=\"border-style: solid none solid;\" | 0 | style=\"border-style: solid none solid;\" | 0 | style=\"border-style: solid none solid;\" | 0 | style=\"border- style: solid none solid;\" | 0 | style=\"border-style: solid solid solid none;\" | 0 | colspan=24 | Instruction Address |- | style=\"width:.5%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | 32 | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:right; border-style: none none none none;' | 63 | style=\"width:.5%; text-align:left; border-style: none none none none;\" | |- | colspan=\"34\" style=\"border-style: none;\"| {| class=\"wikitable mw-collapsible autocollapse\" |+ |- ! style=\"width:10%; text-align:left;\"| Bits ! style=\"width:10%; text- align:left;\"| Field ! style=\"width:80%; text-align:left;\"| Meaning |- | 1 | R | PER Mask |- | 5 | T | DAT mode |- | 6 | IO | I/O Mask; subject to channel mask in CR2 |- | 7 | EX | External Mask; subject to external subclass mask in CR0 |- | 8-11 | Key | PSW key |- | 12 | E=1 | Extended Control mode |- | 13 | M | Machine-check mask |- | 14 | W | Wait state |- | 15 | P | Problem state |- | 16 | S | Address-Space Control 0=primary-space mode 1=Secondary-space mode |- | 18-19 | CC | Condition Code |- | 20-23 | PM | {| class=\"wikitable mw-collapsible autocollapse\" |+ style=\"text-align: left;\" | ! Bit ! Meaning |- | 20 | Fixed-point overflow |- | 21 | Decimal overflow |- | 22 | Exponent underflow |- | 23 | Significance |} |- | 40-63 | IA | Instruction Address |} |} |- | style=\"border-style: none;\" | {| class=\"wikitable\" style=\"font-size:75%\" |+ Extended Architecture Extended Control mode PSW |- | colspan=34 style=\"border-style: none;\" | |- | style=\"width:.5%; text-align:left; border-style: none none none none;\" | | 0 | R | style=\"border-style: solid none solid solid\" | 0 | style=\"border- style: solid none solid\" | 0 | style=\"border-style: solid solid solid none\" | 0 | T | I O | E X | colspan=4 | Key | 1 | M | W | P | S | 0 | colspan=2 | CC | colspan=4 | Program Mask | style=\"border-style: solid none solid solid;\" | 0 | style=\"border- style: solid none solid;\" | 0 | style=\"border-style: solid none solid;\" | 0 | style=\"border-style: solid none solid;\" | 0 | style=\"border-style: solid none solid;\" | 0 | style=\"border-style: solid none solid;\" | 0 | style=\"border- style: solid none solid;\" | 0 | style=\"border-style: solid solid solid none;\" | 0 | style=\"width:.5%; text-align:left; border-style: none none none none;\" | |- | style=\"width:.5%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | 0 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 1 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 2 | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:right; border-style: none none none none;\" | 4 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 5 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 6 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 7 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 8 | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:right; border-style: none none none none;\" | 11 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 12 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 13 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 14 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 15 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 16 | style=\"width:1%; text-align:right; border-style: none none none none;\" | 17 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 18 | style=\"width:1%; text-align:right; border-style: none none none none;\" | 19 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 20 | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:right; border-style: none none none none;\" | 23 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 24 | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:right; border-style: none none none none;\" | 31 | style=\"width:.5%; text-align:left; border-style: none none none none;\" | |- | style=\"border-style:none;\" | |- | style=\"width:.5%; text-align:left; border-style: none none none none;\" | | A | colspan=31 | Instruction Address |- | style=\"width:.5%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | 32 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 33 | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:right; border-style: none none none none;' | 63 | style=\"width:.5%; text-align:left; border-style: none none none none;\" | |- | colspan=\"34\" style=\"border-style: none;\"| {| class=\"wikitable mw-collapsible autocollapse\" |+ |- ! style=\"width:10%; text-align:left;\"| Bits ! style=\"width:10%; text- align:left;\"| Field ! style=\"width:80%; text-align:left;\"| Meaning |- | 1 | R | PER Mask |- | 5 | T | DAT mode |- | 6 | IO | I/O Mask; subject to channel mask in CR2 |- | 7 | EX | External Mask; subject to external subclass mask in CR0 |- | 8-11 | Key | PSW key |- | 12 | E=1 | Extended Control mode |- | 13 | M | Machine-check mask |- | 14 | W | Wait state |- | 15 | P | Problem state |- | 16 | S | Address-Space Control 0=primary-space mode 1=Secondary-space mode |- | 18-19 | CC | Condition Code |- | 20-23 | PM | {| class=\"wikitable mw-collapsible autocollapse\" |+ style=\"text-align: left;\" | ! Bit ! Meaning |- | 20 | Fixed-point overflow |- | 21 | Decimal overflow |- | 22 | Exponent underflow |- | 23 | Significance |} |- | 32 | A | Addressing mode 0=24 bit; 1=31 bit |- | 33-63 | IA | Instruction Address |} |} |- | style=\"border-style: none;\" | {| class=\"wikitable\" style=\"font-size:75%\" |+ Enterprise Systems Architecture Extended Control mode PSW |- | colspan=34 style=\"border-style: none;\" | |- | style=\"width:.5%; text-align:left; border-style: none none none none;\" | | 0 | R | style=\"border-style: solid none solid solid\" | 0 | style=\"border- style: solid none solid | 0 | style=\"border-style: solid solid solid none\" | 0 | T | I O | E X | colspan=4 | Key | 1 | M | W | P | colspan=2 | AS | colspan=2 | CC | colspan=4 | Program Mask | style=\"border-style: solid none solid solid;\" | 0 | style=\"border- style: solid none solid;\" | 0 | style=\"border-style: solid none solid;\" | 0 | style=\"border-style: solid none solid;\" | 0 | style=\"border-style: solid none solid;\" | 0 | style=\"border-style: solid none solid;\" | 0 | style=\"border- style: solid none solid;\" | 0 | style=\"border-style: solid solid solid none;\" | 0 | style=\"width:.5%; text-align:left; border-style: none none none none;\" | |- | style=\"width:.5%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | 0 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 1 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 2 | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:right; border-style: none none none none;\" | 4 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 5 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 6 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 7 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 8 | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:right; border-style: none none none none;\" | 11 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 12 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 13 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 14 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 15 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 16 | style=\"width:1%; text-align:right; border-style: none none none none;\" | 17 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 18 | style=\"width:1%; text-align:right; border-style: none none none none;\" | 19 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 20 | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:right; border-style: none none none none;\" | 23 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 24 | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:right; border-style: none none none none;' | 31 | style=\"width:.5%; text-align:left; border-style: none none none none;\" | |- | style=\"border-style:none;\" | |- | style=\"width:.5%; text-align:left; border-style: none none none none;\" | | A | colspan=31 | Instruction Address |- | style=\"width:.5%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | 32 | style=\"width:1%; text-align:left; border-style: none none none none;\" | 33 | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:left; border-style: none none none none;\" | | style=\"width:1%; text-align:right; border-style: none none none none;' | 63 | style=\"width:.5%; text-align:left; border-style: none none none none;\" | |- | colspan=\"34\" style=\"border-style: none;\"| {| class=\"wikitable mw-collapsible autocollapse\" |+ |- ! style=\"width:10%; text-align:left;\"| Bits ! style=\"width:10%; text- align:left;\"| Field ! style=\"width:80%; text-align:left;\"| Meaning |- | 1 | R | PER Mask |- | 5 | T | DAT mode |- | 6 | IO | I/O Mask; subject to channel mask in CR2 |- | 7 | EX | External Mask; subject to external subclass mask in CR0 |- | 8-11 | Key | PSW key |- | 12 | E=1 | Extended Control mode |- | 13 | M | Machine-check mask |- | 14 | W | Wait state |- | 15 | P | Problem state |- | 16-17 | AS | Address-Space Control 00=primary-space mode 01=Access-register mode 10=Secondary-space mode 11=Home-space mode |- | 18-19 | CC | Condition Code |- | 20-23 | PM | {| class=\"wikitable mw-collapsible autocollapse\" |+ style=\"text-align: left;\" | ! Bit ! Meaning |- | 20 | Fixed-point overflow |- | 21 | Decimal overflow |- | 22 | Exponent underflow |- | 23 | Significance |} |- | 32 | A | Addressing mode 0=24 bit; 1=31 bit |- | 33-63 | IA | Instruction Address |} |} |} S/370 also refers to a computer system architecture specification, and is a direct and mostly backward compatible evolution of the System/360 architecture from which it retains most aspects. This specification does not make any assumptions on the implementation itself, but rather describes the interfaces and the expected behavior of an implementation. The architecture describes mandatory interfaces that must be available on all implementations and optional interfaces which may or may not be implemented. Some of the aspects of this architecture are: * Big endian byte ordering * One or more processors with: ** 16 32-bit General purpose registers ** 16 32-bit Control registers ** 4 64-bit Floating-point registers ** A 64-bit Program status word (PSW) which describes (among other things) *** Interrupt masks *** Privilege states *** A condition code *** A 24-bit instruction address ** Timing facilities (Time of day clock, interval timer, CPU timer and clock comparator) ** An interruption mechanism, maskable and unmaskable interruption classes and subclasses ** An instruction set. Each instruction is wholly described and also defines the conditions under which an exception is recognized in the form of program interruption. * A memory (called storage) subsystem with: ** 8 bits per byte ** A special processor communication area starting at address 0 ** Key controlled protection ** 24-bit addressing * Manual control operations that provide: ** A bootstrap process (a process called Initial Program Load or IPL) ** Operator- initiated interrupts ** Resetting the system ** Basic debugging facilities ** Manual display and modifications of the system's state (memory and processor) * An Input/Output mechanismwhich doesn't describe the devices themselves Some of the optional features are: * A Dynamic Address Translation (DAT) mechanism that can be used to implement a virtual memory system * Floating point instructions IBM took great care to ensure that changes to the architecture would remain compatible for unprivileged (problem state) programs; some new interfaces did not break the initial interface contract for privileged (supervisor mode) programs. Some examples are ; ECPS:MVS :A feature to enhance performance for the MVS/370 operating systems ;ECPS:VM :A feature to enhance performance for the VM operating systems Other changes were compatible only for unprivileged programs, although the changes for privileged programs were of limited scope and well defined. Some examples are: ;ECPS:VSE :A feature to enhance performance for the DOS/VSE operating system. ;S/370-XA :A feature to provide a new I/O interface and to support 31-bit computing Great care was taken in order to ensure that further modifications to the architecture would remain compatible, at least as far as non-privileged programs were concerned. This philosophy predates the definition of the S/370 architecture and started with the S/360 architecture. If certain rules are adhered to, a program written for this architecture will run with the intended results on the successors of this architecture. Such an example is that the S/370 architecture specifies that the 64-bit PSW register bit number 32 has to be set to 0 and that doing otherwise leads to an exception. Subsequently, when the S/370-XA architecture was defined, it was stated that this bit would indicate whether the program was a program expecting a 24-bit address architecture or 31-bit address architecture. Thus, most programs that ran on the 24-bit architecture can still run on 31-bit systems; the 64-bit z/Architecture has an additional mode bit for 64-bit addresses, so that those programs, and programs that ran on the 31-bit architecture, can still run on 64-bit systems. However, not all of the interfaces can remain compatible. Emphasis was put on having non control programs (called problem state programs) remain compatible. Thus, operating systems have to be ported to the new architecture because the control interfaces can (and were) redefined in an incompatible way. For example, the I/O interface was redesigned in S/370-XA making S/370 program issuing I/O operations unusable as-is. ==S/370 replacement== IBM replaced the System/370 line with the System/390 in the 1990s, and similarly extended the architecture from ESA/370 to ESA/390. This was a minor architectural change, and was upwards compatible. In 2000, the System/390 was replaced with the zSeries (now called IBM System z). The zSeries mainframes introduced the 64-bit z/Architecture, the most significant design improvement since the 31-bit transition. All have retained essential backward compatibility with the original S/360 architecture and instruction set. ==GCC and Linux on the S/370== The GNU Compiler Collection (GCC) had a back end for S/370, but it became obsolete over time and was finally replaced with the S/390 backend. Although the S/370 and S/390 instruction sets are essentially the same (and have been consistent since the introduction of the S/360), GCC operability on older systems has been abandoned. GCC currently works on machines that have the full instruction set of System/390 Generation 5 (G5), the hardware platform for the initial release of Linux/390. However, a separately maintained version of GCC 3.2.3 that works for the S/370 is available, known as GCCMVS. ==I/O evolutions== ===I/O evolution from original S/360 to S/370=== The block multiplexer channel, previously available only on the 360/85 and 360/195, was a standard part of the architecture. For compatibility it could operate as a selector channel. Block multiplexer channels were available in single byte (1.5 MB/s) and double byte (3.0 MB/s) versions. ===I/O evolution since original S/370=== As part of the DAT announcement, IBM upgraded channels to have Indirect Data Address Lists (IDALs). a form of I/O MMU. Data streaming channels had a speed of 3.0 MB/s over a single byte interface, later upgraded to 4.5 MB/s. Channel set switching allowed one processor in a multiprocessor configuration to take over the I/O workload from the other processor if it failed or was taken offline for maintenance. System/370-XA introduced a channel subsystem that performed I/O queuing previously done by the operating system. The System/390 introduced the ESCON channel, an optical fiber, half-duplex, serial channel with a maximum distance of 43 kilometers. Originally operating at 10 Mbyte/s, it was subsequently increased to 17 Mbyte/s. Subsequently, FICON became the standard IBM mainframe channel; FIbre CONnection (FICON) is the IBM proprietary name for the ANSI FC-SB-3 Single-Byte Command Code Sets-3 Mapping Protocol for Fibre Channel (FC) protocol used to map both IBM's antecedent (either ESCON or parallel Bus and Tag) channel-to-control-unit cabling infrastructure and protocol onto standard FC services and infrastructure at data rates up to 16 Gigabits/sec at distances up to 100 km. Fibre Channel Protocol (FCP) allows attaching SCSI devices using the same infrastructure as FICON. ==See also== * IBM System/360 * IBM ESA/390 * IBM System z * PC-based IBM-compatible mainframes * Hercules emulator ==Notes== ==References== ;S370-1st : ;S370 : ;S370-MVS : ;S370-VM : ;S370-XA-1st : ;S370-XA : ;S370-ESA : ;S/390-ESA : ;SIE : ==Further reading== * Chapter 4 (pp. 111166) describes the System/370 architecture; Chapter 5 (pp. 167206) describes the System/370 Extended Architecture. ==External links== * Hercules System/370 Emulator A software implementation of IBM System/370 370 Category:Computing platforms Category:Computer-related introductions in 1970 Category:1990s disestablishments Category:32-bit computers",
 "title": "IBM System/370"
}